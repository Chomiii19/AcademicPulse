const e=document.querySelector(".welcome-user"),t=document.querySelector(".time"),r=document.querySelector("header"),s=document.querySelector(".fa-bars"),o=document.querySelector(".sidebar"),a=document.querySelector(".section-contain"),c=document.querySelector(".payment");function n(){let e=new Date().toLocaleString();t.textContent=e}setInterval(n,1e3),n(),(async()=>{try{let t=await fetch("/users/api/user"),r=await t.json();r?.data?.user?.firstname?e.textContent=`Welcome, ${r.data.user.firstname.split(" ")[0]}!`:(console.warn("User's firstname is not available."),e.textContent="Welcome, User!")}catch(e){console.error(e)}})(),s.addEventListener("click",()=>{o.classList.add("sidebar-active"),a.classList.add("blurred"),r.classList.add("blurred")}),a.addEventListener("click",e=>{o.classList.contains("sidebar-active")&&(o.classList.remove("sidebar-active"),a.classList.remove("blurred"),r.classList.remove("blurred"))}),c.addEventListener("click",async()=>{try{let e=await fetch("/app/checkout-full-access",{method:"POST",headers:{"Content-type":"application/json"}});if(console.log(e),!e.ok)throw Error("Failed to create checkout session");let t=await e.json(),r=Stripe("pk_test_51Q2rNbL4uUkpvY1FKhuaeSOv8p1V8epQMl3blhDbD8FK9R7V6YFnFgdXEqXY5Gml25lKjQY50tONswlXXMGnoOAQ00fMs9iiUR"),s=await r.redirectToCheckout({sessionId:t.session.id});s.error&&console.error(s.error.message)}catch(e){console.error(e)}});
//# sourceMappingURL=app.42fe9920.js.map

const e=document.querySelector(".welcome-user"),t=document.querySelector(".time"),r=document.querySelector("header"),s=document.querySelector(".fa-bars"),a=document.querySelector(".sidebar"),o=document.querySelector(".section-contain"),c=document.querySelector(".payment");function n(){let e=new Date().toLocaleString();t.textContent=e}setInterval(n,1e3),n(),(async()=>{try{let t=await fetch("/users/api/user"),r=await t.json();r?.data?.user?.firstname?e.textContent=`Welcome, ${r.data.user.firstname.split(" ")[0]}!`:(console.warn("User's firstname is not available."),e.textContent="Welcome, User!")}catch(e){console.error(e)}})(),s.addEventListener("click",()=>{a.classList.add("sidebar-active"),o.classList.add("blurred"),r.classList.add("blurred")}),o.addEventListener("click",e=>{a.classList.contains("sidebar-active")&&(a.classList.remove("sidebar-active"),o.classList.remove("blurred"),r.classList.remove("blurred"))}),c.addEventListener("click",async()=>{try{let e=await fetch("/app/checkout-full-access",{method:"POST",headers:{"Content-type":"application/json"}});if(!e.ok)throw Error("Failed to create checkout session");let t=await e.json();window.location.href=t.session.url,result.error&&console.error(result.error.message)}catch(e){console.error(e)}});
//# sourceMappingURL=app.a6457d3c.js.map

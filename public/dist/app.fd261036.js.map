{"mappings":"ACAA,MAAM,EAAc,SAAS,aAAa,CAAC,iBACrC,EAAO,SAAS,aAAa,CAAC,SAC9B,EAAS,SAAS,aAAa,CAAC,UAChC,EAAa,SAAS,aAAa,CAAC,YACpC,EAAU,SAAS,aAAa,CAAC,YACjC,EAAU,SAAS,aAAa,CAAC,oBACjC,EAAU,SAAS,aAAa,CAAC,YAEvC,SAAS,IAEP,IAAM,EAAoB,AADd,IAAI,OACc,cAAc,EAC5C,CAAA,EAAK,WAAW,CAAG,CACrB,CAEA,YAAY,EAAgB,KAC5B,IAoBA,AAlBiB,CAAA,UACf,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,mBACvB,EAAO,MAAM,EAAS,IAAI,GAE5B,GAAM,MAAM,MAAM,UACpB,EAAY,WAAW,CAAG,CAAC,SAAS,EAClC,EAAK,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,CACvC,CAAC,CAAC,EAEH,QAAQ,IAAI,CAAC,sCACb,EAAY,WAAW,CAAG,iBAE9B,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,EAChB,CACF,CAAA,IAIA,EAAW,gBAAgB,CAAC,QAAS,KACnC,EAAQ,SAAS,CAAC,GAAG,CAAC,kBACtB,EAAQ,SAAS,CAAC,GAAG,CAAC,WACtB,EAAO,SAAS,CAAC,GAAG,CAAC,UACvB,GAEA,EAAQ,gBAAgB,CAAC,QAAS,AAAC,IAC7B,EAAQ,SAAS,CAAC,QAAQ,CAAC,oBAC7B,EAAQ,SAAS,CAAC,MAAM,CAAC,kBACzB,EAAQ,SAAS,CAAC,MAAM,CAAC,WACzB,EAAO,SAAS,CAAC,MAAM,CAAC,WAE5B,GAEA,EAAQ,gBAAgB,CAAC,QAAS,UAChC,GAAI,CACF,IAAM,EAAW,MAAM,MAAM,4BAA6B,CACxD,OAAQ,OACR,QAAS,CACP,eAAgB,kBAClB,CACF,GAEA,GAAI,CAAC,EAAS,EAAE,CACd,MAAM,AAAI,MAAM,qCAGlB,IAAM,EAAO,MAAM,EAAS,IAAI,GAC1B,EAAS,OACb,+GAGI,EAAS,MAAM,EAAO,kBAAkB,CAAC,CAC7C,UAAW,EAAK,OAAO,CAAC,EAAE,AAC5B,EAEI,CAAA,EAAO,KAAK,EAAE,QAAQ,KAAK,CAAC,EAAO,KAAK,CAAC,OAAO,CACtD,CAAE,MAAO,EAAK,CACZ,QAAQ,KAAK,CAAC,EAChB,CACF","sources":["<anon>","appHome.js"],"sourcesContent":["const welcomeUser = document.querySelector(\".welcome-user\");\nconst time = document.querySelector(\".time\");\nconst header = document.querySelector(\"header\");\nconst sidebarBtn = document.querySelector(\".fa-bars\");\nconst sidebar = document.querySelector(\".sidebar\");\nconst section = document.querySelector(\".section-contain\");\nconst payment = document.querySelector(\".payment\");\nfunction updateDateTime() {\n    const now = new Date();\n    const formattedDateTime = now.toLocaleString();\n    time.textContent = formattedDateTime;\n}\nsetInterval(updateDateTime, 1000);\nupdateDateTime();\nconst loadData = async ()=>{\n    try {\n        const response = await fetch(\"/users/api/user\");\n        const data = await response.json();\n        if (data?.data?.user?.firstname) welcomeUser.textContent = `Welcome, ${data.data.user.firstname.split(\" \")[0]}!`;\n        else {\n            console.warn(\"User's firstname is not available.\");\n            welcomeUser.textContent = \"Welcome, User!\";\n        }\n    } catch (err) {\n        console.error(err);\n    }\n};\nloadData();\nsidebarBtn.addEventListener(\"click\", ()=>{\n    sidebar.classList.add(\"sidebar-active\");\n    section.classList.add(\"blurred\");\n    header.classList.add(\"blurred\");\n});\nsection.addEventListener(\"click\", (event)=>{\n    if (sidebar.classList.contains(\"sidebar-active\")) {\n        sidebar.classList.remove(\"sidebar-active\");\n        section.classList.remove(\"blurred\");\n        header.classList.remove(\"blurred\");\n    }\n});\npayment.addEventListener(\"click\", async ()=>{\n    try {\n        const response = await fetch(\"/app/checkout-full-access\", {\n            method: \"POST\",\n            headers: {\n                \"Content-type\": \"application/json\"\n            }\n        });\n        if (!response.ok) throw new Error(\"Failed to create checkout session\");\n        const data = await response.json();\n        const stripe = Stripe(\"pk_test_51Q2rNbL4uUkpvY1FKhuaeSOv8p1V8epQMl3blhDbD8FK9R7V6YFnFgdXEqXY5Gml25lKjQY50tONswlXXMGnoOAQ00fMs9iiUR\");\n        const result = await stripe.redirectToCheckout({\n            sessionId: data.session.id\n        });\n        if (result.error) console.error(result.error.message);\n    } catch (err) {\n        console.error(err);\n    }\n});\n\n//# sourceMappingURL=app.fd261036.js.map\n","const welcomeUser = document.querySelector(\".welcome-user\");\r\nconst time = document.querySelector(\".time\");\r\nconst header = document.querySelector(\"header\");\r\nconst sidebarBtn = document.querySelector(\".fa-bars\");\r\nconst sidebar = document.querySelector(\".sidebar\");\r\nconst section = document.querySelector(\".section-contain\");\r\nconst payment = document.querySelector(\".payment\");\r\n\r\nfunction updateDateTime() {\r\n  const now = new Date();\r\n  const formattedDateTime = now.toLocaleString();\r\n  time.textContent = formattedDateTime;\r\n}\r\n\r\nsetInterval(updateDateTime, 1000);\r\nupdateDateTime();\r\n\r\nconst loadData = async () => {\r\n  try {\r\n    const response = await fetch(\"/users/api/user\");\r\n    const data = await response.json();\r\n\r\n    if (data?.data?.user?.firstname) {\r\n      welcomeUser.textContent = `Welcome, ${\r\n        data.data.user.firstname.split(\" \")[0]\r\n      }!`;\r\n    } else {\r\n      console.warn(\"User's firstname is not available.\");\r\n      welcomeUser.textContent = \"Welcome, User!\";\r\n    }\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nloadData();\r\n\r\nsidebarBtn.addEventListener(\"click\", () => {\r\n  sidebar.classList.add(\"sidebar-active\");\r\n  section.classList.add(\"blurred\");\r\n  header.classList.add(\"blurred\");\r\n});\r\n\r\nsection.addEventListener(\"click\", (event) => {\r\n  if (sidebar.classList.contains(\"sidebar-active\")) {\r\n    sidebar.classList.remove(\"sidebar-active\");\r\n    section.classList.remove(\"blurred\");\r\n    header.classList.remove(\"blurred\");\r\n  }\r\n});\r\n\r\npayment.addEventListener(\"click\", async () => {\r\n  try {\r\n    const response = await fetch(\"/app/checkout-full-access\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-type\": \"application/json\",\r\n      },\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error(\"Failed to create checkout session\");\r\n    }\r\n\r\n    const data = await response.json();\r\n    const stripe = Stripe(\r\n      \"pk_test_51Q2rNbL4uUkpvY1FKhuaeSOv8p1V8epQMl3blhDbD8FK9R7V6YFnFgdXEqXY5Gml25lKjQY50tONswlXXMGnoOAQ00fMs9iiUR\"\r\n    );\r\n\r\n    const result = await stripe.redirectToCheckout({\r\n      sessionId: data.session.id,\r\n    });\r\n\r\n    if (result.error) console.error(result.error.message);\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n});\r\n"],"names":["welcomeUser","document","querySelector","time","header","sidebarBtn","sidebar","section","payment","updateDateTime","formattedDateTime","now","Date","toLocaleString","textContent","setInterval","loadData","response","fetch","data","json","user","firstname","split","console","warn","err","error","addEventListener","classList","add","event","contains","remove","method","headers","ok","Error","stripe","Stripe","result","redirectToCheckout","sessionId","session","id","message"],"version":3,"file":"app.fd261036.js.map"}